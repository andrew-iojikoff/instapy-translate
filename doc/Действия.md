#  Действия Actions

```python
# Ставить лайки постам с хэштегами 'natgeo' и 'world'
session.like_by_tags(['natgeo', 'world'], amount=10)
```

**Параметры:**

- `tags`: теги, по которым будет выполняться поиск постов для постановки лайков
- `use_random_tags`: теги, по которым будет выполняться поиск постов для лайков будут выбираться из списка случайным образом
- `amount`: количество постов, которым будут поставлены лайки
- `skip_top_posts`: определяет, будут ли поставлены лайки первым 9 топовым постам (по умолчанию `True`)
- `use_smart_hashtags`: использовать [возможности умного хэштега](https://instapy.org/actions#smart-hashtags)
- `use_smart_location_hashtags`: использовать [возможности хэштега для определения интеллектуального местоположения](https://instapy.org/actions#smart-location-hashtags)
- `interact`: определяет, следует ли взаимодействовать с пользователями данного сообщения (необходимо установить также установить опцию `set_user_interact`)

- `randomize`: определяет, для  опции `amount` будет ли поставлен лайк первому посту или это будет случайным образом

- `media`: определяет постам с каким медиа содержимым будут поставлены лайки: фото или видео (по умолчанию `None` - т.е. всем)

## Ставим лайки по тегам и взаимодействуем с пользователем 

```python
# ставим лайки постам с заданными хэштегами и 3 постам других пользователей of its poster
session.set_user_interact(amount=3, randomize=True, percentage=100, media='Photo')
session.like_by_tags(['natgeo', 'world'], amount=10, interact=True)
```

## Ставим лайки в фиде

```python
session.like_by_feed(amount=100, randomize=True, unfollow=True, interact=True)
```

этот метод позволяет ставить лайки постам в своем фиде.

**Параметры:**

- `amount`  определяет сколько всего лайков будет поставлено
- `randomize` определеяет, что посты, которым будут поставлены лайки из вашего фида, будут случайно пропускаться
- `unfollow` отписывается от автора, текущего поста поста из фида, которому был поставлен лайк
- `interact` переходит на страницу профиля автора текущего рассмотренного поста и ставит лайки определенному числу его фото

## Ставим лайки местоположению поста

```python
session.like_by_locations(['224442573/salton-sea/'], amount=100)
# или
session.like_by_locations(['224442573'], amount=100)
# или включая медиа постов из топа
session.like_by_locations(['224442573'], amount=5, skip_top_posts=False, randomize=True)
```

Вы можете найти данные местоположения для функции `like_by_locations`:

- Просмотр https://www.instagram.com/explore/locations/
- Регулярный поиск в инстаграмм.

Пример:

- Найдем "Salton Sea" и выберем результат с иконкой местоположение *location*.
- получим URL-адрес: https://www.instagram.com/explore/locations/224442573/salton-sea/
- используем из адреса все остальное после строки `location/` или просто число.

## Комментируем по местоположению

```python
session.comment_by_locations(['224442573/salton-sea/'], amount=100)
# или
session.comment_by_locations(['224442573'], amount=100)
# или включая медиа постов из топа
session.comment_by_locations(['224442573'], amount=5, skip_top_posts=False)
```

Этот метод позволяет комментировать посты по местоположению, не ставя лайки самим постам. Чтобы получить местоположение, следуйте инструкциям в разделе выше.

## Пописываемся по тегу

```python
# подписываемся на автора по тегу (не лайкая его изображения)
session.follow_by_tags(['tag1', 'tag2'], amount=10)
```

**Параметры:**

- `tags`: теги, по которым будет выполняться поиск постов для постановки лайков
- `use_random_tags`: теги, по которым будет выполняться поиск постов для лайков будут выбираться из списка случайным образом
- `amount`: количество постов, которым будут поставлены лайки
- `skip_top_posts`: определяет, будут ли поставлены лайки первым 9 топовым постам (по умолчанию `True`)
- `use_smart_hashtags`: использовать [возможности умного хэштега](https://instapy.org/actions#smart-hashtags)
- `use_smart_location_hashtags`: использовать [возможности хэштега для определения интеллектуального местоположения](https://instapy.org/actions#smart-location-hashtags)
- `interact`: определяет, следует ли взаимодействовать с пользователями данного сообщения (необходимо установить также установить опцию `set_user_interact`)

- `randomize`: определяет, для  опции `amount` будет ли поставлен лайк первому посту или это будет случайным образом

- `media`: определяет постам с каким медиа содержимым будут поставлены лайки: фото или видео (по умолчанию `None` - т.е. всем)

## Подписываемся по местоположению

```python
session.follow_by_locations(['224442573/salton-sea/'], amount=100)
# или
session.follow_by_locations(['224442573'], amount=100)
# или включая медиа постов из топа
session.follow_by_locations(['224442573'], amount=5, skip_top_posts=False)
```

Этот метод позволяет подписывать по местоположению локации, не ставя лайки и не комментируя посты. Чтобы получить местоположение, следуйте инструкциям в разделе выше "Ставим лайки местоположению поста".

## Подписываемся на аккаунты из списка

Следующий метод будет подписывать вас на каждую учетную запись из списка ников *nicknames* Instagram.

```python
follow_by_list(followlist=['samantha3', 'larry_ok'], times=1, sleep_delay=600, interact=False)
```

Подписываемся на автора один раз (если опция `unfollow` отключена). Эта возможность полезна для точной адресности подписки. Опция `sleep_delay` используется , чтобы определить время перерыва (таймаут) после нескольких успешных подписок (часто используется значение  ~ `10` подписок). Например, если нужно получить *followbacks* от подписчиков выбранной учетной записи/группы аккаунтов.

!!! times

```python
accs = ['therock','natgeo']
session.follow_by_list(accs, times=1, sleep_delay=600, interact=False)
```

Вы также можете **взаимодействовать** с подписанными пользователями, включив опцию `interact=True`, которая будут использовать конфигурацию настроек `set_user_interact`:

```python
session.set_user_interact(amount=4, percentage=50, randomize=True, media='Photo')
session.follow_by_list(followlist=['samantha3', 'larry_ok'], times=2, sleep_delay=600, interact=True)
```

## Подписываемся на чужих подписчиков

Этот метод позволяет подписываться на подписчиков определенного пользователя или пользователей из списка. Имена, точнее ники, пользователей задаются в виде списка строк.

```python
session.follow_user_followers(['friend1', 'friend2', 'friend3'], amount=10, randomize=False)
session.follow_user_followers(['friend1', 'friend2', 'friend3'], amount=10, randomize=False, sleep_delay=60)
```

Опция `amount` определяет число подписчиков, на которые будет осуществляться подписка. В случае кода выше оно будет составлять 30 подписчиков, то есть на каждого из списка пользователей по 10 подписчиков. `randomize` определяет как будет осуществляться выбор подписчиков. Значение `false` определяет последовательный выбор сверху вниз.

По умолчание значение параметра `sleep_delay`, который определяет задержку между подписками, берется равным `600` (около 10 минут). В нашем она равна 60 секунд.

## Подписываемся на пользователей, на которых подписан другой пользователь

```python
session.follow_user_following(['friend1', 'friend2', 'friend3'], amount=10, randomize=False)
session.follow_user_following(['friend1', 'friend2', 'friend3'], amount=10, randomize=False, sleep_delay=60)
```

Для этого метода используются те же параметры вызова, что и в предыдущем разделе.

## Подписывайтесь и взаимодействуйте с чужими подписчиками

```python
session.set_user_interact(amount=5, randomize=True, percentage=50, media='Photo')
session.follow_user_followers(['friend1', 'friend2', 'friend3'], amount=10, randomize=False, interact=True)
```

Вначале устанавливаем настройки взаимодействия `interact`. Для 50% из 30 новых подписчиков перейдем в их профиль, где случайным образом выберем 5 фото, которым поставим лайки. Примите во внимание, что будут применяться ранее установленные параметры взаимодействия `interact`, например, рейтинг комментариев, а также фильтрация нежелательных слов или пользователей.

## Подписываемся на пользователей, поставивших лайки на фото других пользователей

Следующий метод подписывает ваш аккаунт на пользователей, которым понравились фотографии пользователей из заданного списка ников.

```python
session.follow_likers(['user1' , 'user2'], photos_grab_amount = 2, follow_likers_per_photo = 3, randomize=True, sleep_delay=600, interact=False)
```

В примере кода выше будут проанализированы 2 случайные фотографии каждого пользователя из списка, и на аккаунты 3 человек, которым они понравились, вы будете подписаны (всего 6 подписчиков). Имена пользователей `usernames` могут быть заданы списком. 

Опция `photos_grab_amount` определяет сколько фотографий буду анализироваться из профиля пользователя, а соответственно и тех кто поставил им лайки. 

Параметры `follow_likers_per_photo` определяет количество пользователей, которые поставили лайк фотографии и на которые будет подписан ваш аккаунт. 

Следующее значение параметра `randomize=False ` определяет, что будут выбраны последние фотографии из профиля пользователя, а `true` &ndash; случайный выбор из первых 12 (в среднем ~ 10 подписок).

Вы также можете взаимодействовать **interact** с пользователями на которых подписаны, включив опцию `interact=True`, которая будет использовать конфигурацию из параметра `set_user_interact`:

```python
session.set_user_interact(amount=2, percentage=70, randomize=True, media='Photo')
session.follow_likers(['user1' , 'user2'], photos_grab_amount = 2, follow_likers_per_photo = 3, randomize=True, sleep_delay=600, interact=True)
```

## Подписаться на пользователей прокомментировавших фото

Метод будет подписывать аккаунт на пользователей, которые прокомментировали фотографии из заданного списка пользователей.

```python
session.follow_commenters(['user1', 'user2', 'user3'], amount=100, daysold=365, max_pic = 100, sleep_delay=600, interact=False)
```

В код выше будут анализироваться у каждого пользователя из списка не более 100 последних фотографий, выложенных не далее 365 дней назад, аккаунт будет подписан на 100 пользователей, которые комментировали выбранные фото больше всех. Имена пользователей `usernames` могут быть заданы списком. 

Параметр `amount` задает количество людей, на которых будет осуществляться подписка.

Опция `daysold` позволит отбирать комментаторов только с фотографий не старше `daysold` дней.

`max_pic` ограничивает количество фотографий для анализа. 

`sleep_delay` используется для определения времени перерыва (таймаута) после удачной подписки.



Вы также можете взаимодействовать пользователями на которых будет подписываться, включив опцию `interact=True`, которая будет использовать конфигурацию из параметра `set_user_interact`:

```python
session.set_user_interact(amount=3, percentage=32, randomize=True, media='Video')
session.follow_commenters(['user1', 'user2', 'user3'], amount=100, daysold=365, max_pic = 100, sleep_delay=600, interact=True)
```

## Отписываемся

Отменяет подписку на аккаунты, на которые вы ранее были подписаны.

В общем случае процесс работы вашего бота будет выглядеть следующим образом. Например, отписываемся от 10 аккаунтов, затем таймаут 10 минут, а затем продолжаем отписываться и т.д.

Всего реализовано 4 способа отписки от аккаунтов, которые в своей работе используют следующие опции: `custom_list_enabled`, `instapy_followed_enabled`, `nonFollowers`, `allFollowing`. 

### Отписываемся от определенных пользователей

Отписываемся от **определенных пользователей** из списка, который содержит строки с никами *nicknames* пользователей. При этом может использоваться опция `custom_list_param`, которая принимает два значения  `all` и `nonfollowers`. В первом случае отписываемся от всех пользователей из списка, а во втором будут отписаны те пользователи, которые не были подписаны на ваш аккаунт.

```python
custom_list = ["user_1", "user_2", "user_49", "user332", "user50921", "user_n"]
session.unfollow_users(amount=84, custom_list_enabled=True, custom_list=custom_list, custom_list_param="all", style="RANDOM", unfollow_after=55*60*60, sleep_delay=600)

session.unfollow_users(amount=84, custom_list_enabled=True, custom_list=custom_list, custom_list_param="nonfollowers", style="RANDOM", unfollow_after=55*60*60, sleep_delay=600)
```

> Этот метод в качестве значения параметра `custom_list` может принимать значения содержащиеся в любом итерируемом типе данных, например, `tuple` или `set`.

### Отписываемся от пользователей, на которых были подписаны с помощью Instapy

Отписываемся пользователей на которых подписывались ранее с использованием *`InstaPy`*. При этом может использоваться опция `instapy_followed_param`, которая принимает два значения  `all` и `nonfollowers`. В первом случае отписываемся от всех пользователей из списка, а во втором будут отписаны те пользователи, которые не были подписаны на ваш аккаунт.

```python
session.unfollow_users(amount=60, instapy_followed_enabled=True, instapy_followed_param="all", style="FIFO", unfollow_after=90*60*60, sleep_delay=501)

session.unfollow_users(amount=60, instapy_followed_enabled=True, instapy_followed_param="nonfollowers", style="FIFO", unfollow_after=90*60*60, sleep_delay=501)
```

### Отписываемся от пользователей, которые не подписались на вас

```python
session.unfollow_users(amount=126, nonFollowers=True, style="RANDOM", unfollow_after=42*60*60, sleep_delay=655)
```

### Отписываемся от  всех пользователей

```python
session.unfollow_users(amount=40, allFollowing=True, style="LIFO", unfollow_after=3*60*60, sleep_delay=450)
```

### Параметры (*все эти параметры применяются ко всем из 4 рассмотренных выше методов*):

`style` вы можете выбрать последовательность отписки пользователей, например, `FIFO` (*первым пришел &ndash; первым вышел*), `LIFO` (*последним пришел-первым вышел* ) или `RANDOM`.

- `FIFO` (*первым пришел &ndash; первым вышел*), бот будет отписываться от пользователей в точном порядке их загрузки (это значение по умолчанию);
- `LIFO` (*последним пришел-первым вышел* ), бот отписывается от пользователей в порядке, обратном их загрузки;
- `RANDOM`, бот отписываться от пользователей в произвольном порядке;

Опция `unfollow_after` используется для отписки от пользователей **только после того** , как были подписаны на них определенное количество времени. Этот подход обеспечивает более **плавную** отмену подписки без уведомления целевого пользователя. Чтобы использовать ее, просто добавьте параметр `unfollow_after` с желаемым интервалом времени.

```python
session.unfollow_users(amount=94, instapy_followed_enabled=True, instapy_followed_param="all", style="RANDOM", unfollow_after=48*60*60, sleep_delay=600)
```

В примере кода выше отписывается от пользователей **только по прошествии** `48` часов (2 дней). И конечно если вы не хотите использовать эту опцию то при вызове метода укажите `unfollow_after=None`.

Опция `leep_delay` устанавливает время, в течение которого бот будет спать после каждых 10 отписок (задержка по умолчанию ~ 10 минут).

> **Примечание** : Вы должны знать , что в одном потоке выполнения кода, метод `unfollow_users` может может выполняться только одним из четырех способов рассмотренных нами выше. И хотя конечно же возможен запуск нескольких потоков выполнения, то возможны коллизии при работе скрипта с одним и тем же аккаунтом. 

Возможно также отключение других вызовов метода `unfollow_users` с использованием следующего кода:

```python
session.unfollow_users(amount=200, custom_list_enabled=True, custom_list=["user1", "user2", "user88", "user200"], instapy_followed_enabled=False, nonFollowers=False, allFollowing=False, style="FIFO", unfollow_after=22*60*60, sleep_delay=600)
```

И, например, затем вызов его с опцией `allFollowing`:

```python
session.unfollow_users(amount=200, allFollowing=True, style="FIFO", unfollow_after=22*60*60, sleep_delay=600)
```

## Взаимодействуем с постами по заданному URL 

Ставьте лайки, комментируйте, следите за публикациями по предоставленным ссылкам, а также взаимодействуйте с автором публикации по заданному URL.

```python
session.interact_by_URL(urls=["some/URL/1", "some/URL/2" "other/URL"], randomize=True, interact=True)
```

Чтобы использовать эту возможность, вначале необходимо определить значения настроек взаимодействия с пользователями `interaction settings`, а затем вызвать соответствующий метод.

```python
#устанавливаем значения настроек interaction settings
session.set_do_like(enabled=True, percentage=94)
session.set_do_comment(enabled=True, percentage=24)
session.set_comments(["Masterful shot", "Chilling!", "Unbelievably great..."])
session.set_do_follow(enabled=True, percentage=44)
session.set_user_interact(amount=6, randomize=True, percentage=72, media='Photo')

#вызываем метод interact_by_URL
session.interact_by_URL(urls=["Fv0J4AJ3Y7r/?taken-at=628416252", "Vb0D4bJgY7r" "Dj0J4VJgY7r"], randomize=True, interact=True)
```

**Параметры:**

- `urls`: содержит URL-адрес или список адресов **постов,** с которыми будем взаимодействовать. Вы можете использовать URL-адреса в следующих форматах: **полный**, например `"https://www.IG.com/p/Aj0J4bJDY7r/?taken-at=128316221"`; **ссылка на пост** *post link*, например `"https://www.IG.com/p/Aj0J4bJDY7r/"`; **дескриптор** *handle*, например, `"Aj0J4bJDY7r/?taken-at=128316221"` или просто **ID**, то есть идентификатор публикации: `"Aj0J4bJDY7r"`.
- `randomize`: определяет случайный порядок выбора адресов из списка до начала взаимодействия *interact*.
- `interact`: определяет будем, осуществляться *взаимодействие interact с владельцем поста* **после** взаимодействия с **самим постом**.

## Взаимодействуем с конкретными пользователями

Непосредственно до взаимодействия с отдельными пользователями устанавливаются настройки процесса взаимодействия с использованием методов `set_do_follow`, `set_comments`, `set_do_comment` и т.д., а затем осуществляется вызов метода взаимодействия с пользователем, либо пользователями из списка. 

> Описание методов установки настроек представлено в разделе…

```python
session.set_do_follow(enabled=False, percentage=50)
session.set_comments(["Cool", "Super!"])
session.set_do_comment(enabled=True, percentage=80)
session.set_do_like(True, percentage=70)
session.interact_by_users(['user1', 'user2', 'user3'], amount=5, randomize=True, media='Photo')
```

## Взаимодействуем с пользователями, пометившими тегами пост

```python
session.set_do_follow(enabled=False, percentage=50)
session.set_comments(["Cool", "Super!"])
session.set_do_comment(enabled=True, percentage=80)
session.set_do_like(True, percentage=70)
session.interact_by_users_tagged_posts(['user1', 'user2', 'user3'], amount=5, randomize=True, media='Photo')
```



## Взаимодействуем с подписчиками определенного пользователя

Взаимодействуем с пользователями, которые подписаны на конкреного пользователя. Применимы настройки взаимодействия *interact* `set_do_comment`, `set_do_follow` и `set_do_like`.

```python
session.set_user_interact(amount=5, randomize=True, percentage=50, media='Photo')
session.set_do_follow(enabled=False, percentage=70)
session.set_do_like(enabled=False, percentage=70)
session.set_comments(["Cool", "Super!"])
session.set_do_comment(enabled=True, percentage=80)
session.interact_user_followers(['natgeo'], amount=10, randomize=True)
```

## Взаимодействуем с пользователями, на которых подписан определенный пользователь

Взаимодействуем с пользователями, на которых подписан указанный пользователь. Применимы настройки взаимодействия *interact* `set_do_comment`, `set_do_follow` и `set_do_like`.

```python
session.set_user_interact(amount=5, randomize=True, percentage=50, media='Photo')
session.set_do_follow(enabled=False, percentage=70)
session.set_do_like(enabled=False, percentage=70)
session.set_comments(["Cool", "Super!"])
session.set_do_comment(enabled=True, percentage=80)
session.interact_user_following(['natgeo'], amount=10, randomize=True)
```

## Взаимодействуем с пользователями на основе их комментариев

Ставим лайки комментариям к сообщениям, отвечаем на них, а затем взаимодействуем с пользователями, чьим комментариям к публикации мы поставили лайки.

```python
session.interact_by_comments(usernames=["somebody", "other buddy"], posts_amount=10, comments_per_post=5, reply=True, interact=True, randomize=True, media="Photo")
```

### Параметры

- `usernames` : список, содержащий имена пользователей, отправивших комментарии к постам, с будет в дальнейшем взаимодействовать;
- `posts_amount`: число сообщений, получаемых от каждого пользователя для взаимодействия через комментарии;
- `comments_per_post`: определяет, количество комментариев к посту, с пользователями которых затем будем взаимодействовать (ставим лайк комментарию, а затем отвечаем);
- `reply`: определяет, нужно ли отвечать на комментарии;
- `interact`: определяет, будет ли осуществляться взаимодействие с пользователями после того как был поставлен лайк их комментариям к посту.
- `randomize`: определяет, случайный порядок выбора постов из ленты пользователей, а также комментариев к данному посту;
- `media`: определяет тип медиа поста, с которым необходимо взаимодействовать: `Photo` для фотографий, `Video` для видео и `None` для посты, содержащие любые медиа.

### Использование

Перед использованием возможностей взаимодействия с пользователем, а также отправки ему ответа на комментарий, необходимо настроить произвести соответствующие настройки конфигурации. 

```python
session.set_do_reply_to_comments(enabled=True, percentage=14)
session.set_comment_replies(replies=[u"😎😎😎", u"😁😁😁😁😁😁😁💪🏼", u"😋🎉", "😀🍬", u"😂😂😂👈🏼👏🏼👏🏼", u"🙂🙋🏼‍♂️🚀🎊🎊🎊", u"😁😁😁", u"😂",  u"🎉",  u"😎", u"🤓🤓🤓🤓🤓", u"👏🏼😉"], media="Photo")

session.set_user_interact(amount=2, percentage=70, randomize=False, media="Photo")
# так же нужно настроить параметры установки лайков пока взаимодействуем с комментаром поста
session.set_do_like(enabled=True, percentage=94)

# запускаем на выполнение (взаимодействуем с пользователями из списка)
session.interact_by_comments(usernames=["somebody", "other.buddy"], posts_amount=10, comments_per_post=5, reply=True, interact=True, randomize=True, media="Photo")
```

> **Примечание.** Чтобы иметь возможность отвечать на комментарии, вам необходимо включить возможности перевода текста с использованием [Яндекс API](https://yandex.ru/dev/translate/) и по его аналитики [MeaningCloud](https://www.meaningcloud.com/). Чтобы они проанализировали содержание комментариев и, если это уместно, отправки ответа на комментарий.

Для использования анализа и перевода текста доступны 3 способа:

1) Только *анализ настроений* **Sentiment Analysis**. Для этого необходимо включить поддержку API MeaningCloud и Яндекс с действующим ключом API.

```python
session.set_use_meaningcloud(enabled=True, license_key='', polarity="P")
session.set_use_yandex(enabled=True, API_key='')	
```

2) Только анализ соответствия с учетом языка. Для этого включаем только перевод комментариев с использованием Яндекс API.

```python
session.set_use_yandex(enabled=True, API_key='', match_language=False, language_code="en")
```

3) Анализ как настроения, так и и соответствие с указанием определённого языка, на котором будут написаны комментарии. Для этого подключаем MeaningCloud и Яндекс.

```python
session.set_use_meaningcloud(enabled=True, license_key='', polarity="P")
session.set_use_yandex(enabled=True, API_key='', match_language=True, language_code="en")
```

> Если вы использовали любой из этих трех способов анализа текста, то сначала бот проанализирует содержание комментариев, и, если это уместно, сначала поставит лайк комментарию, а затем ответит на него. На все эти неуместные комментарии он отвечать не будет.
>
> Если вы не использовали ни одного из этих 3 способов анализа текста ИЛИ неправильно их настроили, то содержание комментариев не будет проанализировано, и поэтому бот не будет отвечать ни на какие комментарии. Тем не менее, ему он поставит лайки всем доступным комментариям.

И в заключение, весь код для работы с комментариями пользователей ДОЛЖЕН выглядеть примерно так:

```python
session.set_use_meaningcloud(enabled=True, license_key='', polarity="P")
session.set_use_yandex(enabled=True, API_key='', match_language=True, language_code="en")

session.set_do_comment(enabled=True, percentage=14)
session.set_comment_replies(replies=[u"😎😎😎", u"😁😁😁😁😁😁😁💪🏼"], media="Photo")

session.set_user_interact(amount=2, percentage=70, randomize=False, media="Photo")
session.set_do_like(enabled=True, percentage=100)

session.interact_by_comments(usernames=["somebody", "other.buddy"], posts_amount=10, comments_per_post=5, reply=True, interact=True, randomize=True, media="Photo")
```

### В дополнение

- комментарии от самого автора постера игнорируются;
- комментарии залогиненного пользователя также игнорируются;
- если комментатор находится в черном списке или списке `ignored_users`, этот комментарий также будет проигнорирован;
- от каждого уникального комментатора анализируется только один комментарий;
- если бы есть какие-либо комментарии, бот сначала оценит сам пост, прежде чем взаимодействовать с пользователем через комментарии, потом только поставит лайк комментарию и ответит на него, так как нарушение этой последовательности действий, может расцениваться как спам;
- бот ответит на комментарий только после того, как поставит лайк;
- бот не будет отправлять один и тот же ответ на комментарии для каждого из пользователей из списка, определённого  в методе `interact_by_comments`. 

### Плюсы

- вы можете использовать эту возможности, чтобы автоматически ставить лайки комментариям, автоматически отвечать на них в ваших собственных постах.
- кроме взаимодействия посредством комментариев в ваших постах, вы можете использовать эту возможность, чтобы ставить автоматически лайки большому количеству комментариев к постам других пользователей, отвечать на определенные из них и взаимодействовать с этими пользователями сразу после того, как поставили лайк и ответили на их комментарии;

### Минусы

- помните, что лайки комментариев не заполняет вашу квоту лайков, а ответ на комментарий влияет на квоту комментариев. Постарайтесь компенсировать эту разницу гибко управляя логикой работы бота и не злоупотребляйте его возможностями;

- учтите, использование возможностей бота в качестве автоответчика может привести к нежелательному недопониманию между вами и комментатором вашего поста в случае, если вы не используете аналитику текстов комментариев или делаете это эффективно.

## Автоматизируем прием запросов подписчиков

```python
session.accept_follow_requests(amount=100, sleep_delay=1)
```

### Параметры

- `amount`: максимальное количество запросов на подписку, которые будут приняты.
- `sleep_delay`: задержка (таймаут) устанавливает время, в течение которого бот будет ожидать после каждого принятого запроса подписчика (по умолчанию задержка ~ `1`секунда).

## Удаляем исходящие запросы на подписку

Удаляем исходящие неодобренные запросы на подписку.

```python
session.remove_follow_requests(amount=200, sleep_delay=600)
```

## InstaPy Pods

Если вы не знакомы с концепцией, погуглите немного в сети. Вот блог, из которого можно узнать больше о них больше [Pods](https://blog.hubspot.com/marketing/instagram-pods).

```python
photo_comments = ['Nice shot! @{}',
                 'I love your profile! @{}',
               'Your feed is an inspiration :thumbsup:',
               'Just incredible :open_mouth:',
               'What camera did you use @{}?',
               'Love your posts @{}',
               'Looks awesome @{}',
               'Getting inspired by you @{}',
               ':raised_hands: Yes!',
               'I can feel your passion @{} :muscle:']

session = InstaPy()

with smart_run(session):
   session.set_comments(photo_comments, media='Photo')
   session.join_pods()
```

### Параметры

`topic`: тема сообщений, с которыми нужно взаимодействовать. По умолчанию задано значение `general`.

> Примечание. Доступны следующие темы (топики): `general`, `fashion`, `food`, `travel`, `sports`, `entertainment`.

`engagement_mode`: Желаемый режим взаимодействия для ваших сообщений. Существует четыре уровня режима взаимодействия: `no_comments`, `light`, `normal` и `heavy`. По умолчанию применяется режим `normal`. Инициализация режима взаимодействия значением `no_comments` не предполагает никаких комментариев к вашим сообщениям от участников группы *pod members*; режим `light` поощряет примерно 10% участников группы комментировать ваше сообщение; и соответственно 30% и 90% для режимов `normal` и `heavy`.

> Примечание: постановка лайков, подписки или какие-либо другие действия не регламентируются этими режимами.



## Instapy и Stories

Просмотр историй Stories со взаимодействием.

```python
session.set_do_story(enabled = True, percentage = 70, simulate = True)
```

### Параметры:

`simulate`: если установлено значение `True`, *InstaPy бот* будет имитировать просмотр историй (вы не увидите их в браузере), то есть просто отправляются команды в Instagram, говоря, что мы просмотрели истории. Если установлено значение `False`, *Instapy бот* будет выполнять те же действия, что и пользователь-человек (щелкать истории, ждать окончания просмотра и т.д.).

> Обратите внимание: `simulate=False` самая безопасная настройка, поскольку она полностью отключают все дополнительные имитируемые взаимодействия.



### Просматриваем Stories по тегам.

Бот просматривает до 20 историй, опубликованных с указанными тегами.

```python
session.set_do_story(enabled = True, percentage = 70, simulate = True)
```



### Просматриваем Stories определенных пользователей.

Бот берет список пользователей и посматривает их истории.

```python
session.story_by_users(['user1', 'user2'])
```

